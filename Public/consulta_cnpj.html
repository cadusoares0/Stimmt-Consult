<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stimmt Consult | Consulta CNPJ</title>
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>
<body>
    <div id="mass-loading" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(255,255,255,0.8); z-index:9999; align-items:center; justify-content:center; flex-direction:column;">
        <div style="font-size:1.2em; margin-bottom:10px;">Consultando CNPJs em massa...</div>
        <div id="mass-progress"></div>
    </div>
    <div class="container">
        <div class="left-panel">
            <div class="header-cnpj">
                <div class= "header-cnpj-title">
                    <h2 class="titulo-cnpj">CNPJs</h2>
                </div>
                <div class="botoes-cnpj">
                    <button id="btn-consulta-massa" title="Importar Arquivo com CNPJ's">
                        <img src="images/import.svg" alt="Importar" style="width: 22px; height: 22px;">
                    </button> 
                    <button id="btn-exportar-excel" title="Exportar CNPJ's para Excel">
                        <img src="images/export-file1.svg" alt="Exportar Arquivo" style="width: 22px; height: 22px;">
                    </button>
                    <button id="admin-settings-button" class="admin-only" title="Configurações de Admin" style="display:none;">
                        <img src="images/settings.svg" alt="Configurações" style="width: 22px; height: 22px;">
                    </button>
                </div>
            </div>
            <div>
                <input type="file" id="input-excel" accept=".xlsx, .xls" style="display: none;">
            </div>
            <div id="input-cnpj-container" style="margin-bottom:10px;">
                <div class="search-input-wrapper">
                    <input type="text" id="input-cnpj" placeholder="Pesquise ou adicione um CNPJ..." maxlength="18">
                    <img src="images/search.svg" alt="Ícone de Lupa" class="search-icon">
                </div>
            </div>
            <div id="cnpj-nao-encontrado" style="display:none; margin-top:8px;">
                <span class="mensagem-cnpj-nao-encontrado">CNPJ não encontrado. Deseja cadastrar?</span>
                <button id="btn-cadastrar-cnpj-sim" class="btn-acao-cnpj">Sim</button>
                <button id="btn-cadastrar-cnpj-nao" class="btn-acao-cnpj btn-secundario">Não</button>
            </div>
            <ul id="cnpj-list"></ul>
            <div id="cnpj-quantidade" style="font-size:0.92em;color:#555;margin-top:4px;text-align:right;"></div>
        </div>
        <div class="right-panel">
            <h2>Detalhes do CNPJ</h2>
            <div id="cnpj-details">
                <p>Selecione um CNPJ na lista para ver os detalhes.</p>
            </div>
            <div id="loading-message" style="display: none;">Carregando...</div>
            <div id="error-message" style="display: none; color: red;"></div>

            <div id="admin-dashboard-section" class="admin-only" style="display:none; border-top: 1px solid #eee; margin-top: 20px; padding-top: 20px;">
                <h3>Dashboard do Administrador</h3>
                <p>Aqui você pode ver métricas e gerenciar usuários.</p>
                <button>Ver Relatórios</button>
                <button>Gerenciar Usuários</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>